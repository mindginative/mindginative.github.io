<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Ssh on Richard Sentino via mindginative</title>
    <link>http://www.mindginative.com/tags/ssh/index.xml</link>
    <description>Recent content in Ssh on Richard Sentino via mindginative</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="http://www.mindginative.com/tags/ssh/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How to fix Raspberry Pi SSH connection reset</title>
      <link>http://www.mindginative.com/post/raspberrypi-ssh-connection-reset/</link>
      <pubDate>Mon, 10 Apr 2017 21:03:29 +1200</pubDate>
      
      <guid>http://www.mindginative.com/post/raspberrypi-ssh-connection-reset/</guid>
      <description>

&lt;p&gt;I was trying to copy files to my Raspbian-based Raspberry Pi but I kept getting this error:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ssh: connect to host 192.168.178.79 port 22: Connection refused&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;tell-tale-sign&#34;&gt;Tell-tale Sign&lt;/h2&gt;

&lt;p&gt;after few attempts the ssh status showed up an interesting set of logs:&lt;/p&gt;

&lt;p&gt;$&amp;gt; sudo service ssh status&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;● ssh.service - OpenBSD Secure Shell server
   Loaded: loaded (/lib/systemd/system/ssh.service; enabled)
   Active: active (running) since Mon 2017-04-10 08:51:38 UTC; 6min ago
 Main PID: 1332 (sshd)
   CGroup: /system.slice/ssh.service
           └─1332 /usr/sbin/sshd -D

Apr 10 08:51:38 raspberrypi sshd[1332]: key_load_public: invalid format
Apr 10 08:51:38 raspberrypi sshd[1332]: Could not load host key: /etc/ssh/ss...y
Apr 10 08:51:38 raspberrypi sshd[1332]: key_load_public: invalid format
Apr 10 08:51:38 raspberrypi sshd[1332]: Could not load host key: /etc/ssh/ss...y
Apr 10 08:51:42 raspberrypi sshd[1338]: error: key_load_public: invalid format
Apr 10 08:51:42 raspberrypi sshd[1338]: error: Could not load host key: /etc...y
Apr 10 08:51:42 raspberrypi sshd[1338]: error: key_load_public: invalid format
Apr 10 08:51:42 raspberrypi sshd[1338]: error: Could not load host key: /etc...y
Apr 10 08:51:42 raspberrypi sshd[1338]: error: key_load_public: invalid format
Apr 10 08:51:42 raspberrypi sshd[1338]: error: Could not load host key: /etc...y
Hint: Some lines were ellipsized, use -l to show in full.
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;fix&#34;&gt;Fix&lt;/h2&gt;

&lt;p&gt;googling brought me to this article [1], there are 2 suggested CLI commands but the command below fixed my issue:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;$&amp;gt; sudo rm /etc/ssh/ssh_host_* &amp;amp;&amp;amp; sudo dpkg-reconfigure openssh-server&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;It will generate a new set of ssh certs, like so:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Creating SSH2 RSA key; this may take some time ...
2048 73:a5:a5:1b:88:c6:19:40:0e:4c:51:18:ad:94:81:7f /etc/ssh/ssh_host_rsa_key.pub (RSA)
Creating SSH2 DSA key; this may take some time ...
1024 5a:37:ab:bf:11:c3:f5:ea:5f:e4:b3:ea:16:6a:11:f6 /etc/ssh/ssh_host_dsa_key.pub (DSA)
Creating SSH2 ECDSA key; this may take some time ...
256 d6:74:28:5e:ca:cd:ac:a8:69:32:03:f3:56:b5:48:7d /etc/ssh/ssh_host_ecdsa_key.pub (ECDSA)
Creating SSH2 ED25519 key; this may take some time ...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;my-raspberry-pi&#34;&gt;My Raspberry Pi&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;OS: Raspbian GNU/Linux 8.0 (jessie)&lt;/li&gt;
&lt;li&gt;Image burner &lt;a href=&#34;+https://etcher.io/&#34;&gt;Etcher&lt;/a&gt; tool&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.raspberrypi.org/products/model-b-plus/&#34;&gt;Raspberry Pi 1 Model B+ v1.2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;references&#34;&gt;References&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;[1] &lt;a href=&#34;https://drjohnstechtalk.com/blog/2015/04/cant-ssh-to-raspberry-pi/&#34;&gt;https://drjohnstechtalk.com/blog/2015/04/cant-ssh-to-raspberry-pi/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[2] &lt;a href=&#34;https://etcher.io/&#34;&gt;https://etcher.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[3] &lt;a href=&#34;https://www.raspberrypi.org/products/model-b-plus/&#34;&gt;https://www.raspberrypi.org/products/model-b-plus/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>